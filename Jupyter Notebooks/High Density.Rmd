---
title: "R Notebook"
output: html_notebook
---


```{r}
library("TDA")
#library("ncdf4")
#library("psych")
#library("reticulate")
filename1<-"pca.csv"
filename2<-"region55.csv"
filename3<-"region65.csv"
filename4<-"syntheticTransformed.csv"
foldername<-"ECWMF Datasets"
ncfpath1<-paste(getwd(),filename1,sep = "/")
ncfpath2<-paste(getwd(),filename2,sep = "/")
ncfpath3<-paste(getwd(),filename3,sep = "/")
ncfpath4<-paste(getwd(),filename4,sep = "/")

#data<-nc_open(ncfpath)
#g<-9.80655

#lonLength<-length(ncvar_get(data,"lon"))
#latLength<-length(ncvar_get(data,"lat"))

#geopotentialIsobaric<-ncvar_get(data,"Geopotential_isobaric")
#geopotentialIsobaric500<-geopotentialIsobaric[,,8,]/g

#geopotentialIsobaric500Reshaped<-matrix(geopotentialIsobaric500,nrow = 51,ncol = lonLength*latLength)


#data_pca<-principal(geopotentialIsobaric500Reshaped,nfactors = 9)
# oPCA<-prcomp(geopotentialIsobaric500Reshaped,center = TRUE,rank. = 9)
# data_pca<-oPCA$x
#pca<-import("sklearn")
#source_python("pcaData.py")

data_pca<-read.csv(file = ncfpath1,header = FALSE, sep = ",")
data_55<-read.csv(file = ncfpath2,header = FALSE, sep = ",")
data_65<-read.csv(file = ncfpath3,header = FALSE, sep = ",")
data_synthetic<-read.csv(file = ncfpath4,header = FALSE, sep = ",")
#plot(Tree,type = "alpha",main = "alpha Tree (knn)")
```
```{r}
X<-data_synthetic[1]
k<-10
#Tree<-clusterTree(X,k,density = "knn")
Tree<-clusterTree(X,k,h=27,density = "kde",printProgress = FALSE)
plot(Tree,type = "alpha",main="Kappa Tree (kde)")
```

```{r}
Tree$density
```
```{r}
Tree$DataPoints
```
```{r}
data_synthetic[1]
```

```{r}
library("graphics")
Xlim <- c(-150,150)
by <- 1
Xseq <- seq(Xlim[1],by=by)
KDE <- kde(X=data_synthetic[1],Grid = Xseq,h=53)
KDE
```






